name: Fupa Snack Cron Jobs
on:
  schedule:
    - cron: '0 13 * * *'  # Run daily at 1 PM WIB (6 AM UTC)
    - cron: '0 0 * * 1'   # Run every Monday at 00:00 WIB (Sunday 5 PM UTC)
jobs:
  cron-tasks:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      
      - name: Setup Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '16'
          
      - name: Install dependencies
        run: npm install
        
      - name: Run cron tasks
        run: node cron.js
        env:
          FIREBASE_SERVICE_ACCOUNT: ${{ secrets.FIREBASE_SERVICE_ACCOUNT }}
